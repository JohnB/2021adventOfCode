<!-- vim: syntax=markdown -->

# Day 5

## Installation and Data

<!-- livebook:{"livebook_object":"cell_input","name":"Day of Advent:","type":"number","value":"5"} -->

<!-- livebook:{"livebook_object":"cell_input","name":"Part 1 Example: ","type":"textarea","value":"0,9 -> 5,9\n8,0 -> 0,8\n9,4 -> 3,4\n2,2 -> 2,1\n7,0 -> 7,4\n6,4 -> 2,0\n0,9 -> 2,9\n3,4 -> 1,4\n0,0 -> 8,8\n5,5 -> 8,2"} -->

<!-- livebook:{"livebook_object":"cell_input","name":"Part 1 Puzzle Input: ","type":"textarea","value":"629,581 -> 123,75\n921,643 -> 452,643\n498,588 -> 503,593\n861,137 -> 102,896\n603,339 -> 603,137\n138,738 -> 117,738\n14,60 -> 41,60\n606,810 -> 157,361\n980,21 -> 56,945\n43,731 -> 910,731\n745,329 -> 962,329\n800,916 -> 390,916\n737,96 -> 737,24\n978,777 -> 978,592\n232,638 -> 232,611\n833,888 -> 454,509\n627,659 -> 763,523\n871,300 -> 310,861\n987,224 -> 987,909\n54,234 -> 852,234\n413,111 -> 277,111\n264,600 -> 840,24\n180,477 -> 780,477\n837,197 -> 837,796\n943,438 -> 769,438\n260,801 -> 318,801\n645,717 -> 593,717\n542,677 -> 115,250\n255,251 -> 726,722\n57,219 -> 57,147\n898,683 -> 466,251\n925,900 -> 697,900\n264,384 -> 12,384\n240,584 -> 816,584\n962,932 -> 151,121\n524,163 -> 253,434\n981,557 -> 981,942\n934,176 -> 454,656\n872,439 -> 111,439\n449,57 -> 161,57\n50,72 -> 50,54\n104,141 -> 603,141\n219,886 -> 747,358\n774,257 -> 110,921\n82,142 -> 845,905\n416,859 -> 129,572\n326,640 -> 181,785\n192,818 -> 192,408\n309,876 -> 309,811\n536,860 -> 536,740\n789,472 -> 789,625\n760,135 -> 647,22\n425,788 -> 329,884\n13,11 -> 971,969\n342,772 -> 456,772\n85,758 -> 500,343\n322,167 -> 830,675\n977,117 -> 107,117\n148,902 -> 134,902\n812,940 -> 45,173\n544,218 -> 88,674\n110,536 -> 110,927\n989,127 -> 129,987\n89,96 -> 671,678\n604,368 -> 604,127\n89,551 -> 89,460\n590,749 -> 590,147\n390,224 -> 899,224\n25,765 -> 488,302\n624,265 -> 339,265\n127,712 -> 127,797\n133,53 -> 133,168\n934,978 -> 638,978\n443,119 -> 672,119\n691,796 -> 486,591\n153,64 -> 153,859\n588,78 -> 381,78\n205,655 -> 90,655\n965,625 -> 965,388\n699,500 -> 699,227\n35,246 -> 791,246\n305,372 -> 305,326\n954,695 -> 416,695\n192,582 -> 712,62\n759,87 -> 346,500\n73,153 -> 903,983\n386,12 -> 937,12\n287,256 -> 19,524\n725,761 -> 391,427\n159,128 -> 159,985\n839,853 -> 55,69\n818,257 -> 974,257\n754,645 -> 738,645\n164,950 -> 904,210\n208,370 -> 381,370\n467,876 -> 42,876\n779,708 -> 779,56\n152,504 -> 465,817\n808,721 -> 965,564\n957,131 -> 649,131\n984,12 -> 23,973\n283,915 -> 283,347\n775,13 -> 340,448\n588,294 -> 588,360\n775,976 -> 775,497\n891,292 -> 551,292\n43,860 -> 849,860\n639,384 -> 639,942\n932,967 -> 932,762\n109,66 -> 828,785\n107,369 -> 107,480\n606,445 -> 766,605\n429,10 -> 588,10\n895,832 -> 586,523\n938,633 -> 938,152\n907,683 -> 242,683\n748,384 -> 748,771\n256,276 -> 954,276\n975,444 -> 975,33\n404,469 -> 84,469\n105,688 -> 55,688\n73,105 -> 695,105\n402,335 -> 402,567\n524,797 -> 524,603\n188,171 -> 61,44\n954,30 -> 11,973\n794,400 -> 510,116\n592,845 -> 375,845\n457,679 -> 634,679\n35,635 -> 641,635\n652,667 -> 541,556\n393,128 -> 393,884\n302,254 -> 302,297\n302,145 -> 279,168\n64,274 -> 432,274\n560,154 -> 560,511\n928,755 -> 928,722\n578,430 -> 891,430\n505,463 -> 505,476\n62,248 -> 661,248\n573,603 -> 573,781\n61,800 -> 61,723\n925,357 -> 925,233\n883,336 -> 753,466\n535,647 -> 48,160\n981,931 -> 269,219\n980,981 -> 14,15\n404,675 -> 112,383\n861,472 -> 568,765\n17,439 -> 17,530\n839,411 -> 754,411\n944,408 -> 793,257\n910,963 -> 910,382\n640,101 -> 987,101\n33,100 -> 779,846\n799,981 -> 799,985\n787,610 -> 787,990\n967,567 -> 502,567\n369,452 -> 876,959\n830,725 -> 604,499\n112,255 -> 726,869\n746,291 -> 930,475\n170,795 -> 170,72\n587,183 -> 981,183\n588,226 -> 588,328\n643,747 -> 504,747\n882,445 -> 627,445\n849,274 -> 849,135\n536,225 -> 212,225\n143,538 -> 143,832\n319,25 -> 984,690\n278,189 -> 278,526\n527,414 -> 527,704\n935,141 -> 122,954\n623,626 -> 111,114\n211,495 -> 211,924\n146,914 -> 836,224\n573,423 -> 956,423\n902,188 -> 463,188\n807,950 -> 925,950\n956,60 -> 35,981\n791,480 -> 383,888\n886,872 -> 886,471\n441,840 -> 65,464\n367,596 -> 367,846\n566,799 -> 574,799\n590,202 -> 803,202\n988,17 -> 17,988\n566,640 -> 63,137\n304,316 -> 304,470\n452,808 -> 452,455\n982,647 -> 494,159\n654,102 -> 654,580\n760,122 -> 610,272\n349,859 -> 114,624\n72,520 -> 72,790\n272,910 -> 272,848\n751,311 -> 751,911\n396,771 -> 396,356\n37,909 -> 904,42\n903,636 -> 939,636\n661,911 -> 661,967\n246,367 -> 246,451\n179,659 -> 455,935\n65,977 -> 975,67\n525,539 -> 525,523\n211,310 -> 850,310\n327,158 -> 961,158\n224,46 -> 15,255\n177,624 -> 177,297\n949,833 -> 949,711\n732,43 -> 616,159\n537,397 -> 112,822\n432,490 -> 509,567\n70,130 -> 872,932\n810,584 -> 810,679\n863,967 -> 145,249\n919,840 -> 574,840\n955,534 -> 955,77\n90,685 -> 90,858\n24,974 -> 986,12\n980,940 -> 115,75\n41,154 -> 705,818\n196,976 -> 901,271\n80,855 -> 526,409\n190,314 -> 818,942\n195,400 -> 195,968\n698,976 -> 698,171\n351,753 -> 292,753\n433,163 -> 433,411\n37,615 -> 62,615\n696,724 -> 696,170\n625,793 -> 625,359\n387,469 -> 387,552\n24,568 -> 522,70\n569,695 -> 272,695\n16,87 -> 634,705\n986,611 -> 986,827\n581,196 -> 581,180\n373,716 -> 373,304\n562,767 -> 562,493\n506,430 -> 474,430\n362,878 -> 624,616\n888,288 -> 33,288\n483,480 -> 709,706\n261,879 -> 896,879\n196,71 -> 196,462\n717,414 -> 296,414\n973,591 -> 973,149\n390,140 -> 390,727\n966,932 -> 913,932\n693,824 -> 902,824\n724,898 -> 724,46\n557,802 -> 902,802\n968,398 -> 968,124\n784,727 -> 498,441\n938,618 -> 938,863\n119,114 -> 119,636\n110,933 -> 374,933\n406,760 -> 895,271\n499,526 -> 834,526\n844,464 -> 844,535\n32,899 -> 903,28\n796,423 -> 796,498\n188,144 -> 965,144\n135,828 -> 591,372\n616,558 -> 616,129\n356,818 -> 356,540\n406,894 -> 519,894\n303,31 -> 821,549\n82,472 -> 708,472\n64,314 -> 355,314\n236,341 -> 489,341\n839,118 -> 544,118\n680,804 -> 96,220\n204,105 -> 906,807\n357,662 -> 685,334\n463,797 -> 555,797\n973,913 -> 276,216\n614,852 -> 25,263\n958,275 -> 812,421\n963,15 -> 26,952\n743,136 -> 328,136\n975,937 -> 625,937\n984,34 -> 38,980\n19,516 -> 432,103\n802,827 -> 802,78\n12,971 -> 945,38\n335,331 -> 290,331\n890,803 -> 170,803\n950,52 -> 950,417\n68,391 -> 524,847\n862,699 -> 786,699\n542,323 -> 578,323\n454,171 -> 970,687\n980,24 -> 990,24\n253,56 -> 600,403\n571,27 -> 622,27\n966,400 -> 527,400\n624,914 -> 624,43\n85,819 -> 764,140\n204,76 -> 958,830\n208,77 -> 208,284\n668,342 -> 668,373\n633,468 -> 786,621\n972,704 -> 980,704\n552,601 -> 552,953\n912,28 -> 199,741\n884,403 -> 491,10\n731,897 -> 115,281\n492,33 -> 492,296\n295,130 -> 691,130\n741,389 -> 403,51\n974,64 -> 68,970\n954,518 -> 629,518\n392,722 -> 242,872\n523,762 -> 183,422\n431,664 -> 782,313\n750,696 -> 665,696\n426,243 -> 308,243\n602,857 -> 602,598\n849,682 -> 599,682\n723,514 -> 447,514\n403,898 -> 598,898\n139,555 -> 124,555\n570,151 -> 135,151\n205,99 -> 119,185\n291,271 -> 647,627\n537,541 -> 871,207\n647,596 -> 630,596\n870,967 -> 51,148\n470,205 -> 470,692\n238,914 -> 238,55\n285,661 -> 578,661\n878,343 -> 140,343\n274,175 -> 274,944\n193,829 -> 193,332\n169,255 -> 824,910\n695,389 -> 472,389\n707,336 -> 543,336\n860,983 -> 567,690\n732,595 -> 42,595\n723,603 -> 161,603\n206,937 -> 328,937\n981,26 -> 62,26\n624,696 -> 624,756\n317,626 -> 317,717\n353,475 -> 353,809\n759,54 -> 303,54\n96,493 -> 70,493\n457,675 -> 457,812\n955,577 -> 955,673\n10,606 -> 559,606\n945,872 -> 555,872\n818,651 -> 818,51\n869,314 -> 90,314\n271,490 -> 458,490\n48,880 -> 48,495\n310,62 -> 310,694\n61,988 -> 985,64\n558,128 -> 745,315\n594,695 -> 549,695\n98,114 -> 98,204\n107,513 -> 577,983\n721,859 -> 150,288\n102,101 -> 903,902\n971,547 -> 501,547\n857,127 -> 290,694\n486,117 -> 230,117\n550,46 -> 968,464\n946,965 -> 40,59\n757,565 -> 757,613\n99,597 -> 99,763\n352,287 -> 352,22\n826,781 -> 942,781\n631,667 -> 631,869\n438,778 -> 736,480\n974,988 -> 12,26\n730,69 -> 417,382\n879,987 -> 10,118\n433,256 -> 142,256\n254,285 -> 941,972\n828,351 -> 257,922\n830,751 -> 830,347\n789,244 -> 355,244\n607,451 -> 607,838\n853,198 -> 265,198\n65,738 -> 65,921\n122,676 -> 122,801\n493,252 -> 639,252\n42,977 -> 937,82\n544,296 -> 271,23\n772,436 -> 772,979\n259,403 -> 259,757\n436,193 -> 436,478\n227,395 -> 216,395\n672,205 -> 711,244\n116,307 -> 116,337\n768,332 -> 768,314\n380,867 -> 380,746\n57,357 -> 57,247\n326,502 -> 640,188\n151,512 -> 308,512\n481,226 -> 481,935\n835,205 -> 868,238\n535,920 -> 535,158\n314,106 -> 221,13\n304,189 -> 357,189\n349,169 -> 349,150\n568,765 -> 849,484\n680,877 -> 392,589\n170,924 -> 984,924\n52,935 -> 714,273\n542,667 -> 708,667\n583,522 -> 263,842\n710,50 -> 710,500\n713,272 -> 713,897\n70,843 -> 70,747\n319,874 -> 290,874\n56,148 -> 115,89\n77,136 -> 928,987\n867,956 -> 152,241\n206,171 -> 688,171\n834,81 -> 834,726\n186,482 -> 888,482\n785,467 -> 537,467\n232,100 -> 338,206\n556,921 -> 556,469\n630,16 -> 976,16\n168,977 -> 168,383\n784,819 -> 694,819\n298,116 -> 47,116\n577,19 -> 577,729\n767,236 -> 682,236\n222,277 -> 222,952\n119,196 -> 18,95\n26,500 -> 26,714\n324,605 -> 223,706\n296,224 -> 582,224\n425,582 -> 425,371\n922,365 -> 674,365\n377,302 -> 841,766\n342,99 -> 342,469\n181,470 -> 181,473\n201,803 -> 201,335\n593,252 -> 262,583\n138,14 -> 138,375\n148,713 -> 148,733\n208,710 -> 777,710\n333,782 -> 20,782\n258,680 -> 258,368\n978,195 -> 301,195\n600,350 -> 600,22\n83,442 -> 301,442\n747,173 -> 67,173\n869,884 -> 869,291\n832,979 -> 832,349\n457,476 -> 457,472\n521,372 -> 521,630\n440,408 -> 830,408\n530,175 -> 530,600\n664,158 -> 282,158\n942,757 -> 942,852\n76,763 -> 76,658\n379,831 -> 379,75\n74,35 -> 391,35\n39,349 -> 794,349\n591,211 -> 226,211\n143,215 -> 143,808\n965,19 -> 26,958\n475,33 -> 623,181\n791,212 -> 791,913\n95,942 -> 927,110\n977,434 -> 755,656\n340,762 -> 404,698\n518,321 -> 61,778\n238,620 -> 238,666\n568,522 -> 568,757\n716,821 -> 716,404\n57,34 -> 929,906\n949,483 -> 785,483\n408,255 -> 408,191\n590,62 -> 436,62\n729,44 -> 591,182\n557,740 -> 902,395\n900,467 -> 741,467\n90,258 -> 653,258\n653,323 -> 420,556\n85,933 -> 592,933\n938,59 -> 218,779\n226,467 -> 226,937\n587,330 -> 587,51\n487,797 -> 924,797\n216,11 -> 216,875\n316,263 -> 301,263\n981,487 -> 981,519\n97,936 -> 896,137\n704,560 -> 548,560\n44,340 -> 617,340\n160,751 -> 787,124"} -->

<!-- livebook:{"livebook_object":"cell_input","name":"Part 2 Example: ","type":"textarea","value":"0,9 -> 5,9\n8,0 -> 0,8\n9,4 -> 3,4\n2,2 -> 2,1\n7,0 -> 7,4\n6,4 -> 2,0\n0,9 -> 2,9\n3,4 -> 1,4\n0,0 -> 8,8\n5,5 -> 8,2"} -->

<!-- livebook:{"livebook_object":"cell_input","name":"Part 2 Puzzle Input: ","type":"textarea","value":"629,581 -> 123,75\n921,643 -> 452,643\n498,588 -> 503,593\n861,137 -> 102,896\n603,339 -> 603,137\n138,738 -> 117,738\n14,60 -> 41,60\n606,810 -> 157,361\n980,21 -> 56,945\n43,731 -> 910,731\n745,329 -> 962,329\n800,916 -> 390,916\n737,96 -> 737,24\n978,777 -> 978,592\n232,638 -> 232,611\n833,888 -> 454,509\n627,659 -> 763,523\n871,300 -> 310,861\n987,224 -> 987,909\n54,234 -> 852,234\n413,111 -> 277,111\n264,600 -> 840,24\n180,477 -> 780,477\n837,197 -> 837,796\n943,438 -> 769,438\n260,801 -> 318,801\n645,717 -> 593,717\n542,677 -> 115,250\n255,251 -> 726,722\n57,219 -> 57,147\n898,683 -> 466,251\n925,900 -> 697,900\n264,384 -> 12,384\n240,584 -> 816,584\n962,932 -> 151,121\n524,163 -> 253,434\n981,557 -> 981,942\n934,176 -> 454,656\n872,439 -> 111,439\n449,57 -> 161,57\n50,72 -> 50,54\n104,141 -> 603,141\n219,886 -> 747,358\n774,257 -> 110,921\n82,142 -> 845,905\n416,859 -> 129,572\n326,640 -> 181,785\n192,818 -> 192,408\n309,876 -> 309,811\n536,860 -> 536,740\n789,472 -> 789,625\n760,135 -> 647,22\n425,788 -> 329,884\n13,11 -> 971,969\n342,772 -> 456,772\n85,758 -> 500,343\n322,167 -> 830,675\n977,117 -> 107,117\n148,902 -> 134,902\n812,940 -> 45,173\n544,218 -> 88,674\n110,536 -> 110,927\n989,127 -> 129,987\n89,96 -> 671,678\n604,368 -> 604,127\n89,551 -> 89,460\n590,749 -> 590,147\n390,224 -> 899,224\n25,765 -> 488,302\n624,265 -> 339,265\n127,712 -> 127,797\n133,53 -> 133,168\n934,978 -> 638,978\n443,119 -> 672,119\n691,796 -> 486,591\n153,64 -> 153,859\n588,78 -> 381,78\n205,655 -> 90,655\n965,625 -> 965,388\n699,500 -> 699,227\n35,246 -> 791,246\n305,372 -> 305,326\n954,695 -> 416,695\n192,582 -> 712,62\n759,87 -> 346,500\n73,153 -> 903,983\n386,12 -> 937,12\n287,256 -> 19,524\n725,761 -> 391,427\n159,128 -> 159,985\n839,853 -> 55,69\n818,257 -> 974,257\n754,645 -> 738,645\n164,950 -> 904,210\n208,370 -> 381,370\n467,876 -> 42,876\n779,708 -> 779,56\n152,504 -> 465,817\n808,721 -> 965,564\n957,131 -> 649,131\n984,12 -> 23,973\n283,915 -> 283,347\n775,13 -> 340,448\n588,294 -> 588,360\n775,976 -> 775,497\n891,292 -> 551,292\n43,860 -> 849,860\n639,384 -> 639,942\n932,967 -> 932,762\n109,66 -> 828,785\n107,369 -> 107,480\n606,445 -> 766,605\n429,10 -> 588,10\n895,832 -> 586,523\n938,633 -> 938,152\n907,683 -> 242,683\n748,384 -> 748,771\n256,276 -> 954,276\n975,444 -> 975,33\n404,469 -> 84,469\n105,688 -> 55,688\n73,105 -> 695,105\n402,335 -> 402,567\n524,797 -> 524,603\n188,171 -> 61,44\n954,30 -> 11,973\n794,400 -> 510,116\n592,845 -> 375,845\n457,679 -> 634,679\n35,635 -> 641,635\n652,667 -> 541,556\n393,128 -> 393,884\n302,254 -> 302,297\n302,145 -> 279,168\n64,274 -> 432,274\n560,154 -> 560,511\n928,755 -> 928,722\n578,430 -> 891,430\n505,463 -> 505,476\n62,248 -> 661,248\n573,603 -> 573,781\n61,800 -> 61,723\n925,357 -> 925,233\n883,336 -> 753,466\n535,647 -> 48,160\n981,931 -> 269,219\n980,981 -> 14,15\n404,675 -> 112,383\n861,472 -> 568,765\n17,439 -> 17,530\n839,411 -> 754,411\n944,408 -> 793,257\n910,963 -> 910,382\n640,101 -> 987,101\n33,100 -> 779,846\n799,981 -> 799,985\n787,610 -> 787,990\n967,567 -> 502,567\n369,452 -> 876,959\n830,725 -> 604,499\n112,255 -> 726,869\n746,291 -> 930,475\n170,795 -> 170,72\n587,183 -> 981,183\n588,226 -> 588,328\n643,747 -> 504,747\n882,445 -> 627,445\n849,274 -> 849,135\n536,225 -> 212,225\n143,538 -> 143,832\n319,25 -> 984,690\n278,189 -> 278,526\n527,414 -> 527,704\n935,141 -> 122,954\n623,626 -> 111,114\n211,495 -> 211,924\n146,914 -> 836,224\n573,423 -> 956,423\n902,188 -> 463,188\n807,950 -> 925,950\n956,60 -> 35,981\n791,480 -> 383,888\n886,872 -> 886,471\n441,840 -> 65,464\n367,596 -> 367,846\n566,799 -> 574,799\n590,202 -> 803,202\n988,17 -> 17,988\n566,640 -> 63,137\n304,316 -> 304,470\n452,808 -> 452,455\n982,647 -> 494,159\n654,102 -> 654,580\n760,122 -> 610,272\n349,859 -> 114,624\n72,520 -> 72,790\n272,910 -> 272,848\n751,311 -> 751,911\n396,771 -> 396,356\n37,909 -> 904,42\n903,636 -> 939,636\n661,911 -> 661,967\n246,367 -> 246,451\n179,659 -> 455,935\n65,977 -> 975,67\n525,539 -> 525,523\n211,310 -> 850,310\n327,158 -> 961,158\n224,46 -> 15,255\n177,624 -> 177,297\n949,833 -> 949,711\n732,43 -> 616,159\n537,397 -> 112,822\n432,490 -> 509,567\n70,130 -> 872,932\n810,584 -> 810,679\n863,967 -> 145,249\n919,840 -> 574,840\n955,534 -> 955,77\n90,685 -> 90,858\n24,974 -> 986,12\n980,940 -> 115,75\n41,154 -> 705,818\n196,976 -> 901,271\n80,855 -> 526,409\n190,314 -> 818,942\n195,400 -> 195,968\n698,976 -> 698,171\n351,753 -> 292,753\n433,163 -> 433,411\n37,615 -> 62,615\n696,724 -> 696,170\n625,793 -> 625,359\n387,469 -> 387,552\n24,568 -> 522,70\n569,695 -> 272,695\n16,87 -> 634,705\n986,611 -> 986,827\n581,196 -> 581,180\n373,716 -> 373,304\n562,767 -> 562,493\n506,430 -> 474,430\n362,878 -> 624,616\n888,288 -> 33,288\n483,480 -> 709,706\n261,879 -> 896,879\n196,71 -> 196,462\n717,414 -> 296,414\n973,591 -> 973,149\n390,140 -> 390,727\n966,932 -> 913,932\n693,824 -> 902,824\n724,898 -> 724,46\n557,802 -> 902,802\n968,398 -> 968,124\n784,727 -> 498,441\n938,618 -> 938,863\n119,114 -> 119,636\n110,933 -> 374,933\n406,760 -> 895,271\n499,526 -> 834,526\n844,464 -> 844,535\n32,899 -> 903,28\n796,423 -> 796,498\n188,144 -> 965,144\n135,828 -> 591,372\n616,558 -> 616,129\n356,818 -> 356,540\n406,894 -> 519,894\n303,31 -> 821,549\n82,472 -> 708,472\n64,314 -> 355,314\n236,341 -> 489,341\n839,118 -> 544,118\n680,804 -> 96,220\n204,105 -> 906,807\n357,662 -> 685,334\n463,797 -> 555,797\n973,913 -> 276,216\n614,852 -> 25,263\n958,275 -> 812,421\n963,15 -> 26,952\n743,136 -> 328,136\n975,937 -> 625,937\n984,34 -> 38,980\n19,516 -> 432,103\n802,827 -> 802,78\n12,971 -> 945,38\n335,331 -> 290,331\n890,803 -> 170,803\n950,52 -> 950,417\n68,391 -> 524,847\n862,699 -> 786,699\n542,323 -> 578,323\n454,171 -> 970,687\n980,24 -> 990,24\n253,56 -> 600,403\n571,27 -> 622,27\n966,400 -> 527,400\n624,914 -> 624,43\n85,819 -> 764,140\n204,76 -> 958,830\n208,77 -> 208,284\n668,342 -> 668,373\n633,468 -> 786,621\n972,704 -> 980,704\n552,601 -> 552,953\n912,28 -> 199,741\n884,403 -> 491,10\n731,897 -> 115,281\n492,33 -> 492,296\n295,130 -> 691,130\n741,389 -> 403,51\n974,64 -> 68,970\n954,518 -> 629,518\n392,722 -> 242,872\n523,762 -> 183,422\n431,664 -> 782,313\n750,696 -> 665,696\n426,243 -> 308,243\n602,857 -> 602,598\n849,682 -> 599,682\n723,514 -> 447,514\n403,898 -> 598,898\n139,555 -> 124,555\n570,151 -> 135,151\n205,99 -> 119,185\n291,271 -> 647,627\n537,541 -> 871,207\n647,596 -> 630,596\n870,967 -> 51,148\n470,205 -> 470,692\n238,914 -> 238,55\n285,661 -> 578,661\n878,343 -> 140,343\n274,175 -> 274,944\n193,829 -> 193,332\n169,255 -> 824,910\n695,389 -> 472,389\n707,336 -> 543,336\n860,983 -> 567,690\n732,595 -> 42,595\n723,603 -> 161,603\n206,937 -> 328,937\n981,26 -> 62,26\n624,696 -> 624,756\n317,626 -> 317,717\n353,475 -> 353,809\n759,54 -> 303,54\n96,493 -> 70,493\n457,675 -> 457,812\n955,577 -> 955,673\n10,606 -> 559,606\n945,872 -> 555,872\n818,651 -> 818,51\n869,314 -> 90,314\n271,490 -> 458,490\n48,880 -> 48,495\n310,62 -> 310,694\n61,988 -> 985,64\n558,128 -> 745,315\n594,695 -> 549,695\n98,114 -> 98,204\n107,513 -> 577,983\n721,859 -> 150,288\n102,101 -> 903,902\n971,547 -> 501,547\n857,127 -> 290,694\n486,117 -> 230,117\n550,46 -> 968,464\n946,965 -> 40,59\n757,565 -> 757,613\n99,597 -> 99,763\n352,287 -> 352,22\n826,781 -> 942,781\n631,667 -> 631,869\n438,778 -> 736,480\n974,988 -> 12,26\n730,69 -> 417,382\n879,987 -> 10,118\n433,256 -> 142,256\n254,285 -> 941,972\n828,351 -> 257,922\n830,751 -> 830,347\n789,244 -> 355,244\n607,451 -> 607,838\n853,198 -> 265,198\n65,738 -> 65,921\n122,676 -> 122,801\n493,252 -> 639,252\n42,977 -> 937,82\n544,296 -> 271,23\n772,436 -> 772,979\n259,403 -> 259,757\n436,193 -> 436,478\n227,395 -> 216,395\n672,205 -> 711,244\n116,307 -> 116,337\n768,332 -> 768,314\n380,867 -> 380,746\n57,357 -> 57,247\n326,502 -> 640,188\n151,512 -> 308,512\n481,226 -> 481,935\n835,205 -> 868,238\n535,920 -> 535,158\n314,106 -> 221,13\n304,189 -> 357,189\n349,169 -> 349,150\n568,765 -> 849,484\n680,877 -> 392,589\n170,924 -> 984,924\n52,935 -> 714,273\n542,667 -> 708,667\n583,522 -> 263,842\n710,50 -> 710,500\n713,272 -> 713,897\n70,843 -> 70,747\n319,874 -> 290,874\n56,148 -> 115,89\n77,136 -> 928,987\n867,956 -> 152,241\n206,171 -> 688,171\n834,81 -> 834,726\n186,482 -> 888,482\n785,467 -> 537,467\n232,100 -> 338,206\n556,921 -> 556,469\n630,16 -> 976,16\n168,977 -> 168,383\n784,819 -> 694,819\n298,116 -> 47,116\n577,19 -> 577,729\n767,236 -> 682,236\n222,277 -> 222,952\n119,196 -> 18,95\n26,500 -> 26,714\n324,605 -> 223,706\n296,224 -> 582,224\n425,582 -> 425,371\n922,365 -> 674,365\n377,302 -> 841,766\n342,99 -> 342,469\n181,470 -> 181,473\n201,803 -> 201,335\n593,252 -> 262,583\n138,14 -> 138,375\n148,713 -> 148,733\n208,710 -> 777,710\n333,782 -> 20,782\n258,680 -> 258,368\n978,195 -> 301,195\n600,350 -> 600,22\n83,442 -> 301,442\n747,173 -> 67,173\n869,884 -> 869,291\n832,979 -> 832,349\n457,476 -> 457,472\n521,372 -> 521,630\n440,408 -> 830,408\n530,175 -> 530,600\n664,158 -> 282,158\n942,757 -> 942,852\n76,763 -> 76,658\n379,831 -> 379,75\n74,35 -> 391,35\n39,349 -> 794,349\n591,211 -> 226,211\n143,215 -> 143,808\n965,19 -> 26,958\n475,33 -> 623,181\n791,212 -> 791,913\n95,942 -> 927,110\n977,434 -> 755,656\n340,762 -> 404,698\n518,321 -> 61,778\n238,620 -> 238,666\n568,522 -> 568,757\n716,821 -> 716,404\n57,34 -> 929,906\n949,483 -> 785,483\n408,255 -> 408,191\n590,62 -> 436,62\n729,44 -> 591,182\n557,740 -> 902,395\n900,467 -> 741,467\n90,258 -> 653,258\n653,323 -> 420,556\n85,933 -> 592,933\n938,59 -> 218,779\n226,467 -> 226,937\n587,330 -> 587,51\n487,797 -> 924,797\n216,11 -> 216,875\n316,263 -> 301,263\n981,487 -> 981,519\n97,936 -> 896,137\n704,560 -> 548,560\n44,340 -> 617,340\n160,751 -> 787,124"} -->

```elixir
Mix.install([
  {:kino, "~> 0.3.1"}
])

IEx.Helpers.c("lib/advent_of_code.ex")
alias AdventOfCode, as: AOC
AOC.link_to_day()
```

## Part 1

### Day 5: Hydrothermal Venture

You come across a field of hydrothermal vents on the ocean floor! These vents constantly produce large, opaque clouds, so it would be best to avoid them if possible.

They tend to form in lines; the submarine helpfully produces a list of nearby lines of vents (your puzzle input) for you to review. For example:

```
0,9 -> 5,9
8,0 -> 0,8
9,4 -> 3,4
2,2 -> 2,1
7,0 -> 7,4
6,4 -> 2,0
0,9 -> 2,9
3,4 -> 1,4
0,0 -> 8,8
5,5 -> 8,2
```

Each line of vents is given as a line segment in the format x1,y1 -> x2,y2 where x1,y1 are the coordinates of one end the line segment and x2,y2 are the coordinates of the other end. These line segments include the points at both ends. In other words:

```
An entry like 1,1 -> 1,3 covers points 1,1, 1,2, and 1,3.
An entry like 9,7 -> 7,7 covers points 9,7, 8,7, and 7,7.
```

For now, only consider horizontal and vertical lines: lines where either x1 = x2 or y1 = y2.

So, the horizontal and vertical lines from the above list would produce the following diagram:

```
.......1..
..1....1..
..1....1..
.......1..
.112111211
..........
..........
..........
..........
222111....
```

In this diagram, the top left corner is 0,0 and the bottom right corner is 9,9. Each position is shown as the number of lines which cover that point or . if no line covers that point. The top-left pair of 1s, for example, comes from 2,2 -> 2,1; the very bottom row is formed by the overlapping lines 0,9 -> 5,9 and 0,9 -> 2,9.

To avoid the most dangerous areas, you need to determine the number of points where at least two lines overlap. In the above example, this is anywhere in the diagram with a 2 or larger - a total of 5 points.

Consider only horizontal and vertical lines. At how many points do at least two lines overlap?

<!-- livebook:{"livebook_object":"cell_input","name":"Part 1 Input Data","props":{"options":["example","puzzle input"]},"type":"select","value":"puzzle input"} -->

```elixir
parse_lines = fn str_lines ->
  str_lines
  |> Enum.map(fn line ->
    [a, b] = String.split(line, " -> ")
    [x1, y1] = String.split(a, ",")
    [x2, y2] = String.split(b, ",")

    [x1, y1, x2, y2]
    |> Enum.map(fn str -> String.to_integer(str) end)
  end)
end

reject_diagonals = fn lines ->
  lines
  |> Enum.reject(fn [x1, y1, x2, y2] ->
    x1 != x2 && y1 != y2
  end)
end

expand_lines = fn lines ->
  lines
  |> Enum.map(fn [x1, y1, x2, y2] ->
    if x1 == x2 do
      Enum.map(y1..y2, fn y -> {x1, y} end)
    else
      Enum.map(x1..x2, fn x -> {x, y1} end)
    end
  end)
end

find_multiples = fn pairs ->
  pairs
  |> Enum.reduce(%{}, fn pair, acc ->
    {_, acc} =
      Map.get_and_update(acc, pair, fn current_value ->
        {current_value, (current_value || 0) + 1}
      end)

    acc
  end)
end

score = fn map ->
  map
  |> Map.values()
  |> Enum.reject(fn count -> count < 2 end)
  |> Enum.count()
end

AOC.p1data()
|> AOC.as_single_lines()
|> parse_lines.()
|> reject_diagonals.()
|> expand_lines.()
|> List.flatten()
|> find_multiples.()
# 4873
|> score.()
```

## Part 2

Unfortunately, considering only horizontal and vertical lines doesn't give you the full picture; you need to also consider diagonal lines.

Because of the limits of the hydrothermal vent mapping system, the lines in your list will only ever be horizontal, vertical, or a diagonal line at exactly 45 degrees. In other words:

```
An entry like 1,1 -> 3,3 covers points 1,1, 2,2, and 3,3.
An entry like 9,7 -> 7,9 covers points 9,7, 8,8, and 7,9.
```

Considering all lines from the above example would now produce the following diagram:

```
1.1....11.
.111...2..
..2.1.111.
...1.2.2..
.112313211
...1.2....
..1...1...
.1.....1..
1.......1.
222111....
```

You still need to determine the number of points where at least two lines overlap. In the above example, this is still anywhere in the diagram with a 2 or larger - now a total of 12 points.

Consider all of the lines. At how many points do at least two lines overlap?

<!-- livebook:{"livebook_object":"cell_input","name":"Part 2 Input Data","props":{"options":["example","puzzle input"]},"type":"select","value":"puzzle input"} -->

```elixir
expand_all_lines = fn lines ->
  lines
  |> Enum.map(fn [x1, y1, x2, y2] ->
    if x1 == x2 do
      Enum.map(y1..y2, fn y -> {x1, y} end)
    else
      if y1 == y2 do
        Enum.map(x1..x2, fn x -> {x, y1} end)
      else
        Enum.zip(x1..x2, y1..y2)
      end
    end
  end)
end

AOC.p2orp1data()
|> AOC.as_single_lines()
|> parse_lines.()
|> expand_all_lines.()
|> List.flatten()
|> find_multiples.()
# 19472
|> score.()
```
